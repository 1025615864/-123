# 百姓法律助手：验收与交付清单

版本：v1.0  
日期：[填写日期]

## 1. 目的

本清单用于：

- 明确验收前的环境准备事项
- 明确验收执行步骤与回归命令
- 明确交付物清单与签收记录

## 2. 验收前准备

### 2.1 测试环境信息

- **前端地址**：http://[填写]
- **后端 API**：http://[填写]/api
- **Swagger**：http://[填写]/docs

### 2.2 测试账号

- **管理员**：admin / admin123
- **律师**：lawyer1 / lawyer123
- **普通用户 1**：user1 / user123
- **普通用户 2**：user2 / user123

### 2.3 甲方需提供/确认

- **支付宝商户参数**（如需验证支付宝支付）：app_id、私钥、公钥等
- **微信支付商户参数**（如需验证微信支付发起）：mch_id、证书、APIv3 密钥等
- **合规文本最终版**：用户协议、隐私政策、AI 免责声明
- **业务规则确认**：
  - 律师结算：平台抽成比例、冻结期、最低提现金额等
  - 商业化：VIP 天数/价格、次数包档位、每日额度口径

### 2.4 乙方建议准备（验收效率）

- 预置一批测试数据：
  - 至少 1 条已支付并可完成的咨询
  - 至少 1 条收入记录（pending）
  - 至少 1 条收入记录（settled）用于提现流程
  - 至少 1 条待审核提现申请（pending）
- 给测试账号充值余额（便于走余额支付闭环）

## 3. 验收执行入口

- **交付总览（甲方收口入口）**：`docs/甲方交付总览.md`
- **验收用例清单**：`docs/百姓法律助手验收测试用例.md`
- **补充协议模板**：`docs/补充协议模板.md`
- **功能验收确认单（模板）**：`docs/功能验收确认单（模板）.md`

## 4. 建议验收顺序（可直接照做）

### 4.1 基础功能（快速确认环境可用）

- 登录/注册/合规页面可访问
- 管理后台可登录
- Swagger 可访问

### 4.2 律师服务闭环

- 预约 → 支付 → 律师接单 → 留言 → 完成 → 评价

### 4.3 律师结算/提现（M1）

- 生成收入记录（pending）
- 冻结期内不可提现
- 解冻后可提现（settled）
- 律师提交提现申请
- 管理员审核/标记打款完成
- 管理端 CSV 导出（提现/收入记录）

> 说明：冻结期/解冻可通过“预置测试数据”或“调整系统时间/任务触发”两种方式验证，建议优先使用测试数据。

### 4.4 商业化与定价（M2）

- 用户侧 /profile：VIP/次数包价格与档位展示
- 管理员侧 /admin/settings：修改商业化配置后，用户侧展示与下单金额一致
- 购买 VIP：支付后 vip_expires_at 生效
- 购买次数包：支付后次数包余额生效
- /chat 与 /documents：
  - 展示配额/剩余次数
  - 当日额度用尽后使用次数包继续使用

## 5. 回归命令（建议作为验收后的回归）

### 5.1 后端

在仓库根目录执行：

- `py -m pytest -q`

### 5.2 前端

在 `frontend/` 目录执行：

- `npm run build`

## 6. 交付物清单（乙方交付）

- **交付总览（甲方收口入口）**：`docs/甲方交付总览.md`
- **源代码仓库**：前端/后端完整代码
- **数据库脚本**：初始化/迁移脚本（如有）
- **部署文档**：部署方式、环境变量说明
- **接口文档**：Swagger/OpenAPI
- **验收用例**：`docs/百姓法律助手验收测试用例.md`
- **补充协议模板**：`docs/补充协议模板.md`
- **验收确认单模板**：`docs/功能验收确认单（模板）.md`

## 7. 验收结果记录

- 测试日期：[填写]
- 测试人员：[填写]
- 通过用例数：[填写]/[总数]
- 不通过用例数：[填写]
- 验收结论：□ 通过验收 □ 有条件通过 □ 不通过
- 遗留问题清单：[填写]

## 8. 签字页

甲方签字（盖章）：[填写]  
日期：[填写]

乙方签字（盖章）：[填写]  
日期：[填写]
